#!/bin/bash

# ===============================
# DAPATKAN IP DAN TANGGAL
# ===============================
ipsaya=$(curl -sS ipv4.icanhazip.com)
data_server=$(curl -v --insecure --silent https://google.com/ 2>&1 | grep Date | sed -e 's/< Date: //')
date_list=$(date +"%Y-%m-%d" -d "$data_server")


# ===============================
# AMBIL DATA CLIENT 
# ===============================
MYIP=$ipsaya

# URL data izin
url_izin="https://raw.githubusercontent.com/alrescha79-cmd/sc-vpn/refs/heads/main/izin"

# Ambil data dari GitHub dengan format baru: ### User Date IP
data_izin=$(curl -sS "$url_izin")
user_line=$(echo "$data_izin" | grep "$MYIP")

if [ -n "$user_line" ]; then
    username=$(echo "$user_line" | awk '{print $2}')
    valid=$(echo "$user_line" | awk '{print $3}')
else
    username=""
    valid=""
fi

echo "$username" >/usr/bin/user
echo "$valid" >/usr/bin/e

# ===============================
# TANGGAL HARI INI DAN EXPIRY
# ===============================
today=$(date +'%Y-%m-%d')
Exp1="$valid"  # tanggal expiry

# ===============================
# FUNGSI HITUNG SELISIH HARI & FORMAT TANGGAL
# ===============================
datediff() {
    local d1=$(date -d "$1" +%s)
    local d2=$(date -d "$2" +%s)
    local diff=$(( (d1 - d2) / 86400 ))
    diff=${diff#-}  # selalu positif
    local formatted=$(date -d "$1" +'%d-%m-%Y')
    echo "$diff day | $formatted"
}

# ===============================
# FUNGSI VALIDASI MASA AKTIF
# ===============================
validate_access() {
    # Cek jika data user tidak ditemukan
    if [ -z "$username" ] || [ -z "$valid" ]; then
        clear
        echo -e "${red}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${neutral}"
        echo -e "${red}â•‘                           AKSES DITOLAK                        â•‘${neutral}"
        echo -e "${red}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${neutral}"
        echo -e "${red}â•‘  IP Anda (${MYIP}) tidak terdaftar dalam sistem           â•‘${neutral}"
        echo -e "${red}â•‘                                                                â•‘${neutral}"
        echo -e "${red}â•‘  Silakan hubungi administrator untuk mendapatkan akses:        â•‘${neutral}"
        echo -e "${red}â•‘  ğŸ“± Telegram: https://t.me/Alrescha79                          â•‘${neutral}"
        echo -e "${red}â•‘  ğŸ“§ Email: anggun@cakson.my.id                                 â•‘${neutral}"
        echo -e "${red}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${neutral}"
        echo -e ""
        echo -e "${yellow}Tekan Enter untuk keluar...${neutral}"
        read
        exit 1
    fi
    
    # Cek masa aktif
    current_date=$(date +%Y-%m-%d)
    if [[ "$valid" < "$current_date" ]]; then
        # Hitung berapa hari sudah expired
        expired_days=$(( ( $(date -d "$current_date" +%s) - $(date -d "$valid" +%s) ) / 86400 ))
        
        clear
        echo -e "${red}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${neutral}"
        echo -e "${red}â•‘                        AKSES KADALUARSA                        â•‘${neutral}"
        echo -e "${red}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${neutral}"
        echo -e "${red}â•‘  Masa aktif script Anda telah berakhir!                        â•‘${neutral}"
        echo -e "${red}â•‘                                                                â•‘${neutral}"
        echo -e "${red}â•‘  Detail Akses:                                                 â•‘${neutral}"
        echo -e "${red}â•‘    â€¢ User ID: ${username}                                      â•‘${neutral}"
        echo -e "${red}â•‘    â€¢ IP Address: ${MYIP}                                       â•‘${neutral}"
        echo -e "${red}â•‘    â€¢ Tanggal Kadaluarsa: ${valid}                              â•‘${neutral}"
        echo -e "${red}â•‘    â€¢ Sudah Expired: ${expired_days} hari                       â•‘${neutral}"
        echo -e "${red}â•‘                                                                â•‘${neutral}"
        echo -e "${red}â•‘  Untuk memperpanjang masa aktif, hubungi:                      â•‘${neutral}"
        echo -e "${red}â•‘  ğŸ“± Telegram: https://t.me/Alrescha79                          â•‘${neutral}"
        echo -e "${red}â•‘  ğŸ“§ Email: anggun@cakson.my.id                                 â•‘${neutral}"
        echo -e "${red}â•‘                                                                â•‘${neutral}"
        echo -e "${red}â•‘  ğŸ’° Informasi Harga & Paket Tersedia                           â•‘${neutral}"
        echo -e "${red}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${neutral}"
        echo -e ""
        echo -e "${yellow}Tekan Enter untuk keluar...${neutral}"
        read
        exit 1
    fi
}

# ===============================
# CEK STATUS ACTIVE / EXPIRED
# ===============================
# Panggil fungsi validasi sebelum menampilkan menu
validate_access

Info="(${green}Active${neutral})"
Error="(${red}Expired${neutral})"
if [[ "$today" < "$Exp1" ]]; then
    sts="${Info}"
else
    sts="${Error}"
fi

# Colors
green="\e[38;5;87m"
red="\e[38;5;196m"
neutral="\e[0m"
blue="\e[38;5;130m"
orange="\e[38;5;99m"
yellow="\e[38;5;226m"
purple="\e[38;5;141m"
bold_white="\e[1;37m"
reset="\e[0m"
pink="\e[38;5;205m"

# warna gelap
dark_gray="\e[38;5;240m"
dark_blue="\e[38;5;18m"
dark_red="\e[38;5;88m"
dark_green="\e[38;5;22m"
dark_orange="\e[38;5;94m"
dark_purple="\e[38;5;54m"
dark_cyan="\e[38;5;30m"
dark_blue_bg="\e[48;5;18m"

# warna terang
light_gray="\e[38;5;250m"
light_blue="\e[38;5;81m"
light_red="\e[38;5;210m"
light_green="\e[38;5;120m"
light_orange="\e[38;5;215m"
light_purple="\e[38;5;177m"
light_cyan="\e[38;5;159m"
light_yellow="\e[38;5;229m"

        # Function to count accounts
        count_accounts() {
            if [ ! -e "/etc/xray/$1/.$1.db" ]; then
                mkdir -p "/etc/xray/$1"
                touch "/etc/xray/$1/.$1.db"
            fi

            accounts=$(cat "/etc/xray/$1/.$1.db")
            if [[ $accounts = "" ]]; then
                echo "0"
            else
                cat "/etc/xray/$1/.$1.db" | grep "###" | wc -l
            fi
        }

        # Count accounts
        vm=$(count_accounts "vmess")
        vl=$(count_accounts "vless")
        tr=$(count_accounts "trojan")
        ss=$(count_accounts "shadowsocks")
        ssh=$(cat "/etc/ssh/.ssh.db" | grep "###" | wc -l)
        
        # Check service status
        cek_status() {
            status=$(systemctl is-active --quiet $1 && echo "aktif" || echo "nonaktif")
            if [ "$status" = "aktif" ]; then
                echo -e "${green}ON${neutral}"
            else
                echo -e "${red}OFF${neutral}"
            fi
        }

setup_bot_telegram() {
clear
echo -e "${orange}â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€${neutral}"
echo -e "${green}           SETUP BOT TELEGRAM         ${neutral}"
echo -e "${orange}â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€${neutral}"
echo -e ""
read -p "Masukkan token bot telegram Anda: " bot_token
read -p "Masukkan chat ID Anda: " chat_id
if [[ -z "$bot_token" || -z "$chat_id" ]]; then
echo -e "${red}Token bot atau chat ID tidak boleh kosong.${neutral}"
return
fi
if [ -f /root/.vars ]; then
rm -f /root/.vars
fi
echo "bot_token=\"$bot_token\"" >> /root/.vars
echo "telegram_id=\"$chat_id\"" >> /root/.vars
systemctl restart limitip > /dev/null 2>&1
echo -e "${dark_purple}â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo -e "${green}Token bot dan chat ID telah disimpan di /root/.vars${neutral}"
read -n 1 -s -r -p "Press any key to return to the menu"
}
      
            clear
            # Display menu
            display_menu() {
            
            # Hitung sisa hari
            days_left=$(( ( $(date -d "$valid" +%s) - $(date -d "$today" +%s) ) / 86400 ))
            
            echo -e "${green}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${neutral}"
            echo -e "${green}â•‘                    ALRESCHA79 VPN PANEL                       â•‘${neutral}"
            echo -e "${green}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${neutral}"
            
            # Peringatan jika masa aktif akan berakhir dalam 7 hari
            if [ "$days_left" -le 7 ] && [ "$days_left" -gt 0 ]; then
                echo -e "${yellow}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${neutral}"
                echo -e "${yellow}â•‘                            PERINGATAN                         â•‘${neutral}"
                echo -e "${yellow}â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£${neutral}"
                echo -e "${yellow}â•‘  âš ï¸  Masa aktif script akan berakhir dalam ${days_left} hari!            â•‘${neutral}"
                echo -e "${yellow}â•‘  Segera hubungi developer untuk perpanjangan akses.           â•‘${neutral}"
                echo -e "${yellow}â•‘  ğŸ“± Telegram: https://t.me/Alrescha79                         â•‘${neutral}"
                echo -e "${yellow}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${neutral}"
                echo ""
            fi
            
            echo -e "${orange}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${neutral}"
            echo -e "${orange}â•‘                        INFORMASI SISTEM                       â•‘${neutral}"
            echo -e "${orange}â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤${neutral}"
            echo -e "${orange}â•‘${green} â€¢ SISTEM    :${neutral} $(grep -w PRETTY_NAME /etc/os-release | cut -d= -f2 | tr -d '"' | head -c25)${orange}â•‘${neutral}"
            echo -e "${orange}â•‘${green} â€¢ RAM       :${neutral} $(free -m | awk 'NR==2 {printf "%-4s / %-4s MB", $3, $2}')${orange}        â•‘${neutral}"
            echo -e "${orange}â•‘${green} â€¢ UPTIME    :${neutral} $(uptime -p 2>/dev/null | cut -d ' ' -f 2-4 | head -c20)${orange}    â•‘${neutral}"
            echo -e "${orange}â•‘${green} â€¢ CPU CORE  :${neutral} $(nproc 2>/dev/null || echo "N/A") Core${orange}                               â•‘${neutral}"
            echo -e "${orange}â•‘${green} â€¢ ISP       :${neutral} $(curl -s ipinfo.io/org 2>/dev/null | cut -d ' ' -f 2-3 | head -c25)${orange}â•‘${neutral}"
            echo -e "${orange}â•‘${green} â€¢ KOTA      :${neutral} $(curl -s ipinfo.io/city 2>/dev/null | head -c25)${orange}          â•‘${neutral}"
            echo -e "${orange}â•‘${green} â€¢ IP PUBLIK :${neutral} $(curl -s ipv4.icanhazip.com 2>/dev/null || echo "Unable to detect")${orange} â•‘${neutral}"
            echo -e "${orange}â•‘${green} â€¢ DOMAIN    :${neutral} $(head -n1 /etc/xray/domain 2>/dev/null | head -c25)${orange}       â•‘${neutral}"
            echo -e "${orange}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${neutral}"
            
            echo -e "${blue}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${neutral}"
            echo -e "${blue}â•‘                        STATUS LAYANAN                         â•‘${neutral}"
            echo -e "${blue}â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤${neutral}"
            echo -e "${blue}â•‘${neutral} XRAY      : $(cek_status vmess@config) ${blue}â”‚${neutral} HAPROXY   : $(cek_status haproxy) ${blue}â”‚${neutral} SSH/OVPN  : $(cek_status ssh) ${blue}â•‘${neutral}"
            echo -e "${blue}â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤${neutral}"
            echo -e "${blue}â•‘                        JUMLAH AKUN                            â•‘${neutral}"
            echo -e "${blue}â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤${neutral}"
            echo -e "${blue}â•‘${neutral} SSH/OPENVPN : ${green}$ssh${neutral} Account   ${blue}â”‚${neutral} SHADOWSOCKS : ${green}$ss${neutral} Account${blue}    â•‘${neutral}"
            echo -e "${blue}â•‘${neutral} VMESS XRAY  : ${green}$vm${neutral} Account   ${blue}â”‚${neutral} TROJAN XRAY : ${green}$tr${neutral} Account${blue}    â•‘${neutral}"
            echo -e "${blue}â•‘${neutral} VLESS XRAY  : ${green}$vl${neutral} Account   ${blue}â”‚${neutral}                            ${blue}â•‘${neutral}"
            echo -e "${blue}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${neutral}"
            
            echo -e "${purple}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${neutral}"
            echo -e "${purple}â•‘                        INFORMASI AKSES                        â•‘${neutral}"
            echo -e "${purple}â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤${neutral}"
            echo -e "${purple}â•‘${green} â€¢ USER ID   :${neutral} $username ${sts}${purple}                                  â•‘${neutral}"
            echo -e "${purple}â•‘${green} â€¢ MASA AKTIF :${neutral} $(datediff "$valid" "$today")${purple}                    â•‘${neutral}"
            echo -e "${purple}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${neutral}"            
            
            echo -e "${dark_purple}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${neutral}"
            echo -e "${dark_purple}â•‘                           MENU UTAMA                          â•‘${neutral}"
            echo -e "${dark_purple}â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤${neutral}"
            echo -e "${dark_purple}â•‘${green} [1]${neutral} Kelola SSH/OpenVPN    ${dark_purple}â•‘${green} [5]${neutral} Kelola Shadowsocks    ${dark_purple}â•‘${neutral}"
            echo -e "${dark_purple}â•‘${green} [2]${neutral} Kelola VMess          ${dark_purple}â•‘${green} [6]${neutral} Setup Bot Notifikasi  ${dark_purple}â•‘${neutral}"
            echo -e "${dark_purple}â•‘${green} [3]${neutral} Kelola VLess          ${dark_purple}â•‘${green} [7]${neutral} Menu Bot Telegram     ${dark_purple}â•‘${neutral}"
            echo -e "${dark_purple}â•‘${green} [4]${neutral} Kelola Trojan         ${dark_purple}â•‘${green} [8]${neutral} Menu Features         ${dark_purple}â•‘${neutral}"
            echo -e "${dark_purple}â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤${neutral}"
            echo -e "${dark_purple}â•‘${green} [x]${neutral} Keluar dari Panel                                        ${dark_purple}â•‘${neutral}"
            echo -e "${dark_purple}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${neutral}"
            
            echo -e ""
            echo -e "${light_gray}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${neutral}"
            echo -e "${light_gray}â•‘ ${green}SCRIPT VERSION:${neutral} 4.0.1  ${light_gray}â•‘${neutral} ${green}AUTHOR:${neutral} Alrescha79               ${light_gray}â•‘${neutral}"
            echo -e "${light_gray}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${neutral}"
            echo -e ""
read -p "Pick a number (1-8) or hit 'x' to bail: " choice
    echo -e ""
    case $choice in
        1 | 01) menussh ;;
        2 | 02) menuvmess ;;
        3 | 03) menuvless ;;
        4 | 04) menutrojan ;;
        5 | 05) menushadowsocks ;;
        6 | 06) setup_bot_telegram ;;
        7 | 07) bot server ;;
        8 | 08) features ;;
        x | X)
            echo -e "${green}Thank you for using our service.${neutral}"
            exit 0
            ;;
        *)
            echo -e "${red}Invalid choice. Please try again.${neutral}"
            sleep 2
            display_menu
            ;;
    esac
}

# === CALL MENU ===
display_menu